# 1
-
  html: envvars_block.html
  scenario: "NEXT"
  command: "#SETVARS"
  allowed_vars:
    KP_SELF_CERT: ""
    KP_WEB_DNS: "localhost"
    KP_WEB_MAIL: ""
  discription: "Set environment variabless"
-
  html: command_block.html
  scenario: "NEXT"
  command: env | grep "KP_"
  discription: "Check K-portal environment variables"
-
  html: command_block.html
  scenario: "NEXT"
  command: /home/ubuntu/kportal/installkportal_ubuntu.sh
  discription: "Start installation"
-
  html: save_to_xml.html
  scenario: "NEXT"
  command: "#XML"
  filepath: /etc/kportal/www/config.xml
  discription: "Edit K-portal configuration file config.xml"
-
  html: command_block.html
  scenario: "NEXT"
  command: sudo -E su kportal -c "kp_server.sh 9004 -tls"
  discription: "Start kp_server"
-
  html: command_block.html
  scenario: "NEXT"
  command: start_server.sh
  discription: "Check that Docker is running"
-
  html: command_block.html
  scenario: "NEXT"
  command: /home/ubuntu/kportal/start_apache.sh 9005
  discription: "Check that Apache is running"
-
  html: message_block.html
  scenario: "PART"
  discription: "K-portal installation is complete"
-
  html: command_block.html
  scenario: "PART"
  command: "#SHUTDOWN"
  discription: "Stop webint server"
# 10
-
  html: redirect_block.html
  scenario: "STOP"
  discription: "Load Configuration screen"
  command: "/next?counter=11"
-
  html: command_block.html
  scenario: "PART"
  command: sudo lsof -i -n -P | grep --color ":80 \|:8080 \|:443 \|:9004 \|:9005 \|:9555 "
  discription: "Display running web services"
  comment: Beginning of configuration screen
-
  html: command_block.html
  scenario: "PART"
  command: cat /etc/kportal/kportal_conf.xml
  discription: "Display kp_server configuration file kportal_conf.xml"
-
  html: command_block.html
  scenario: "PART"
  command: cat /etc/kportal/www/config.xml
  discription: "Display K-portal configuration file config.xml"
-
  html: save_to_xml.html
  scenario: "PART"
  command: "#XML"
  filepath: /etc/kportal/www/config.xml
  discription: "Edit K-portal configuration file config.xml"
-
  html: command_block.html
  scenario: "PART"
  command: start_server.sh
  discription: "Start Docker daemon on port 9555"
-
  html: command_block.html
  scenario: "PART"
  command: /home/ubuntu/kportal/start_apache.sh 9005
  discription: "Restart Apache web server"
-
  html: command_block.html
  scenario: "PART"
  command: sudo -E su kportal -c "kp_server.sh 9004 -tls"
  discription: Restart kp_server
-
  html: command_block.html
  scenario: "PART"
  command: tail -500 /home/kportal/log/stdout.log
  discription: View kp_server stdout logs
-
  html: command_block.html
  scenario: "PART"
  command: tail -500 /home/kportal/log/stderr.log
  discription: View kp_server stderr logs
# 20
-
  html: command_block.html
  scenario: "PART"
  command: tail -500 /home/kportal/log/docker.log
  discription: View Docker logs
-
  html: command_block.html
  scenario: "PART"
  command: "#SHUTDOWN"
  discription: Shutdown webint server
-
  html: redirect_block.html
  scenario: "STOP"
  discription: "Open K-portal"
  command: "https://\"+window.location.hostname+\":9005"

