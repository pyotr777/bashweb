<div>
    
    <input type="hidden" name="xml_file" value="config/sample.xml" />
    Web socket URI:
    <input id="txt1_NNN" type="text" name="/configuration/websocket/uri" /><br>
    Google API clientID:
    <input id="txt2_NNN" type="text" name="/configuration/oauth20/clientid"/><br>
    Google API redirect URL:
    <input id="txt2_NNN" type="text" name="/configuration/oauth20/redirect"/>
    <button class="hidden_button" id="exec_button_NNN" onclick="post_form()">exec</button>
    <div id="div_NNN" class="displayblock"></div>
</div>
<script>
var submittable=true; // Flag to prevent multiple "form" submissions

function init_block() {
    console.log("save_to_xml");
    $("#exec_button_NNN").attr('class', 'active_button');
    $("#txt1_NNN").focus();
}

// Get command from textfield #txt_NNN 
function post_form() {
    if (submittable) {
        submittable = false;
    } else {
        return false;
    }

    var URL = "/xml/edit/" +$('input[name=xml_file]').val(); // This should be interpreted as direction to edit XML on server side.
    console.log("Calling "+ URL)
    
    var formData = {};
    // Select all <input type="text"> tags
    $(":text").each(function(index) {
        var id = $(this).attr('id');
        console.log("Checking "+id)
        res = id.match(/_NNN$/);
        if (res != null) {
          //console.log("Found " + res)
          formData[$(this).attr("name")] = $(this).val();
        }
    });
    console.log(formData)

    $("body").append($("<div class=displayblock>").load(URL, formData, function(data) {
      console.log("Call got data with " + NNN)
      gotData(data, NNN);
    }));

    return false;
}
init_block();
</script>
<div class="displayblock" id="outNNN"></div>